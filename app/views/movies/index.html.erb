<% # Include page-specific CSS %>
<% content_for :css do %>
  <%= stylesheet_link_tag "movies", "data-turbo-track": "reload" %>
<% end %>

<h1 class="moves-title">View Movies</h1>
<table>
  <thead>
    <tr>
      <th><%= link_to "Title", movies_path(sort: "title", direction: toggle_direction("title")) %></th>
      <th><%= link_to "Rating", movies_path(sort: "rating", direction: toggle_direction("rating")) %></th>
      <th>Description</th>
      <th><%= link_to "Release Date", movies_path(sort: "release_date", direction: toggle_direction("release_date")) %></th>
      <th>More Info</th>
    </tr>
  </thead>
  <tbody>
    <% @movies.each do |movie| %>
      <tr>
        <td class="td-odd"><%= movie.title %></td>
        <td class="td-even"><%= movie.rating %></td>
        <td class="td-odd"><%= movie.description %></td>
        <td class="td-even"><%= movie.release_date %></td>
        <td class="td-odd"><%= link_to "Show this movie", movie %></td>
      </tr>
    <% end %>
  </tbody>
  <tfoot>
    <tr> 
      <td colspan="5"> <%= link_to "New movie", new_movie_path %> </td>
    </tr>
  </tfoot>
</table>
